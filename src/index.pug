doctype html
html
    head
        title domino 2
        meta(charset="utf-8")
        meta(name="viewport", content="width=device-width, initial-scale=1, maximum-scale=1.0")
        link(rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAXUlEQVQ4jWNkQANfHl77jy6GDHjktRiR+SgcQpqxGcKETcGRY+sZjhxbj5M/ElxACmBB5uByJj4w8F7AawC+0IeBQeYFYmIBXQ0LIQWEACO6wI7lrXjDwSOyGkUPAKUpOzwONiPPAAAAAElFTkSuQmCC")
        // styles
        style#base-style
            include styles/base-style.css
        style#core-style
            include styles/core-style.css
        style#editor-style(data-editor-only)
            include styles/editor-style.css
        // third party libraries
        // scripts
        script(id="utility.js")
            include scripts/utility.js
        script(id="htmlui.js")
            include scripts/htmlui.js
        script(id="domino.js")
            include scripts/domino.js
        script(id="test.js")
            include scripts/test.js
        script(id="editor.js" data-editor-only)
            include scripts/editor.js
        script(id="main.js")
            include scripts/main.js
    body(onload="start()").no-select
        #frame
            #scene
                #groups
        #toolbar(data-block-clicks)
            .toolbar-group.icon-bar
                .icon.disabled(data-action="global/undo" title="undo") ‚Ü©
                .icon.disabled(data-action="global/redo" title="redo") ‚Ü™                
                .icon(data-action="global/home" title="jump to center") üè†

            .toolbar-group.icon-bar(data-path="global")
                .icon#unlocked(data-action="global/lock" title="prevent accidental editing") üîì
                .icon#locked(data-action="global/unlock" title="enable editing" hidden) üîí
                .icon#open-about(data-action="global/menu" title="information & settings") üî®
                .icon

            .toolbar-group.icon-bar(data-path="selection" hidden)
                //.icon(data-action="selection/cancel" title="deselect") ‚ùå
                .icon(data-action="selection/center" title="center selected") üîé
                .icon(data-action="selection/edit" title="edit cards") üìù
                .icon(data-action="selection/link" data-path="selection/link" title="link selected") ‚Üó
                .icon(data-action="selection/group" data-path="selection/group" title="group selected") üìÅ
                .icon(data-action="selection/delete" title="delete selected") üí•
            
            .toolbar-group.icon-bar(data-path="group" hidden)
                //.icon(data-action="group/cancel" title="deselect") ‚ùå
                .icon(data-action="group/select" title="select cards") üé¥
                .icon(data-action="group/recolor" title="reroll color") üé®
                .icon(data-action="group/delete" title="delete group") üí•
        #editor-blocker.full(data-action="editor/close" data-path="editor" data-blocks-clicks hidden)
            #editor-panel(data-block-clicks)
                .tab-bar
                    div(data-action="editor/close") ‚óÄ 
                    div(data-tab-toggle="editor/text" data-tab-default) TEXT
                    div(data-tab-toggle="editor/icons") ICONS
                    div(data-tab-toggle="editor/style") STYLE
                    div(data-tab-toggle="editor/image") IMAGE
                .editor-page.tab-page(data-tab-body="editor/text")
                    textarea#content-input(data-path="editor/text")
                .editor-page.tab-page(data-tab-body="editor/icons")
                    each row in [1, 2, 3, 4]
                        input(id=`editor-icon-select-${row}` type="text").icon-select
                        input(id=`editor-icon-command-${row}` type="text").icon-command
                .editor-page(data-tab-body="editor/style")
                    #type-select.button-list(data-export-clear)
                .editor-page(data-tab-body="editor/image")
                    .button-list
                        button(data-action="editor/image/upload") upload image
                        button(data-action="editor/image/remove") remove image
                        input(data-path="editor/image" type="file" accept="image/*" hidden)
                    textarea(data-path="editor/image/alt" placeholder="alt text")
        script#project-data(type="text/json")
            include project-data.json
        script loadData();
        script#project-data-deferred(type="text/json")
            include project-data-deferred.json
        script#font(type="text/css")
            include font.css
        script loadDataDeferred();
